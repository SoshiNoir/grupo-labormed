// pages/instagram.tsx

import InstagramPosts from '@/components/LastPosts';
import Pagination from '@/components/Pagination';
import React, { useEffect, useState } from 'react';

const InstagramPage = () => {
  const [currentPage, setCurrentPage] = useState(1);
  const [postsPerPage] = useState(21);
  const [allPosts, setAllPosts] = useState<InstagramPost[]>([]);

  useEffect(() => {
    // Fetch all Instagram posts here and set them in allPosts state
    // Replace the following dummy data with your API call
    const fetchAllPosts = async () => {
      const data = [
        // Add your posts data here
      ];
      setAllPosts(data);
    };

    fetchAllPosts();
  }, []);

  // Logic for displaying posts
  const indexOfLastPost = currentPage * postsPerPage;
  const indexOfFirstPost = indexOfLastPost - postsPerPage;
  const currentPosts = allPosts.slice(indexOfFirstPost, indexOfLastPost);

  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);

  return (
    <div className="container mx-auto my-14">
      <InstagramPosts posts={currentPosts} />
      <Pagination
        postsPerPage={postsPerPage}
        totalPosts={allPosts.length}
        paginate={paginate}
        currentPage={currentPage}
      />
    </div>
  );
};

// Pagination component would go here
// ...

export default InstagramPage;
//